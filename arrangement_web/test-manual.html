<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GGP CAMERA ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
            line-height: 1.6;
        }
        .test-item { 
            border: 1px solid #ddd; 
            margin: 10px 0; 
            padding: 15px; 
            border-radius: 8px;
        }
        .test-pass { background-color: #d4edda; border-color: #c3e6cb; }
        .test-fail { background-color: #f8d7da; border-color: #f5c6cb; }
        .test-pending { background-color: #fff3cd; border-color: #ffeaa7; }
        button { 
            background: #007bff; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 5px; 
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        .results { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>ğŸ§ª GGP CAMERA ì—…ë¬´ í˜„í™© ë³´ë“œ - ìˆ˜ë™ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-item test-pending">
        <h3>1. ê¸°ë³¸ ë¡œë”© í…ŒìŠ¤íŠ¸</h3>
        <p>ë©”ì¸ í˜ì´ì§€ê°€ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <button onclick="testPageLoad()">í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
        <div id="test1-result"></div>
    </div>

    <div class="test-item test-pending">
        <h3>2. í™˜ê²½ ì„¤ì • í…ŒìŠ¤íŠ¸</h3>
        <p>Firebase ì„¤ì •ê³¼ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <button onclick="testEnvironment()">í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
        <div id="test2-result"></div>
    </div>

    <div class="test-item test-pending">
        <h3>3. ëª¨ë“ˆ ë¡œë”© í…ŒìŠ¤íŠ¸</h3>
        <p>í•„ìš”í•œ JavaScript ëª¨ë“ˆë“¤ì´ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <button onclick="testModules()">í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
        <div id="test3-result"></div>
    </div>

    <div class="test-item test-pending">
        <h3>4. ë°˜ì‘í˜• ë””ìì¸ í…ŒìŠ¤íŠ¸</h3>
        <p>ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì—ì„œ UIê°€ ì ì ˆíˆ ì¡°ì •ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
        <button onclick="testResponsive()">í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
        <div id="test4-result"></div>
    </div>

    <div class="test-item test-pending">
        <h3>5. ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸</h3>
        <p>ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
        <button onclick="openMainApp()">ë©”ì¸ ì•± ì—´ê¸°</button>
        <div id="test5-result"></div>
    </div>

    <div class="results" id="overall-results">
        <h3>ğŸ“Š ì „ì²´ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
        <p>ê° í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
    </div>

    <script>
        let testResults = [];

        function updateResult(testId, status, message) {
            const element = document.getElementById(`test${testId}-result`);
            const testItem = element.closest('.test-item');
            
            element.innerHTML = `<p><strong>ê²°ê³¼:</strong> ${message}</p>`;
            
            testItem.className = 'test-item';
            if (status === 'pass') {
                testItem.classList.add('test-pass');
            } else if (status === 'fail') {
                testItem.classList.add('test-fail');
            }
            
            testResults[testId - 1] = { status, message };
            updateOverallResults();
        }

        function updateOverallResults() {
            const passCount = testResults.filter(r => r && r.status === 'pass').length;
            const failCount = testResults.filter(r => r && r.status === 'fail').length;
            const totalCount = testResults.filter(r => r).length;
            
            document.getElementById('overall-results').innerHTML = `
                <h3>ğŸ“Š ì „ì²´ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>
                <p>ì™„ë£Œ: ${totalCount}/5, ì„±ê³µ: ${passCount}, ì‹¤íŒ¨: ${failCount}</p>
                ${totalCount === 5 ? `<p><strong>ì „ì²´ ì„±ê³µë¥ : ${Math.round((passCount/totalCount)*100)}%</strong></p>` : ''}
            `;
        }

        async function testPageLoad() {
            try {
                const startTime = performance.now();
                const response = await fetch('./index.html');
                const endTime = performance.now();
                
                if (response.ok) {
                    const content = await response.text();
                    const hasTitle = content.includes('GGP CAMERA ì—…ë¬´ í˜„í™©');
                    const hasFirebase = content.includes('firebase');
                    
                    if (hasTitle && hasFirebase) {
                        updateResult(1, 'pass', `í˜ì´ì§€ ë¡œë“œ ì„±ê³µ! (${Math.round(endTime - startTime)}ms)`);
                    } else {
                        updateResult(1, 'fail', 'í˜ì´ì§€ ë‚´ìš©ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    }
                } else {
                    updateResult(1, 'fail', `HTTP ì˜¤ë¥˜: ${response.status}`);
                }
            } catch (error) {
                updateResult(1, 'fail', `ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.message}`);
            }
        }

        async function testEnvironment() {
            try {
                const response = await fetch('./env-config.js');
                if (response.ok) {
                    const content = await response.text();
                    const hasConfig = content.includes('ENV_CONFIG') && content.includes('DEVELOPMENT');
                    
                    if (hasConfig) {
                        updateResult(2, 'pass', 'í™˜ê²½ ì„¤ì • íŒŒì¼ì´ ì •ìƒì ìœ¼ë¡œ ì¡´ì¬í•©ë‹ˆë‹¤.');
                    } else {
                        updateResult(2, 'fail', 'í™˜ê²½ ì„¤ì • ë‚´ìš©ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    }
                } else {
                    updateResult(2, 'fail', 'í™˜ê²½ ì„¤ì • íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                updateResult(2, 'fail', `ì˜¤ë¥˜: ${error.message}`);
            }
        }

        async function testModules() {
            const modules = ['config.js', 'utils.js'];
            let allExist = true;
            let messages = [];
            
            for (const module of modules) {
                try {
                    const response = await fetch(`./${module}`);
                    if (response.ok) {
                        messages.push(`âœ“ ${module}`);
                    } else {
                        allExist = false;
                        messages.push(`âœ— ${module} (${response.status})`);
                    }
                } catch (error) {
                    allExist = false;
                    messages.push(`âœ— ${module} (ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜)`);
                }
            }
            
            if (allExist) {
                updateResult(3, 'pass', `ëª¨ë“  ëª¨ë“ˆ ë¡œë“œ ì„±ê³µ: ${messages.join(', ')}`);
            } else {
                updateResult(3, 'fail', `ì¼ë¶€ ëª¨ë“ˆ ë¡œë“œ ì‹¤íŒ¨: ${messages.join(', ')}`);
            }
        }

        function testResponsive() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            let deviceType;
            if (width <= 768) {
                deviceType = 'ëª¨ë°”ì¼';
            } else if (width <= 1024) {
                deviceType = 'íƒœë¸”ë¦¿';
            } else {
                deviceType = 'ë°ìŠ¤í¬í†±';
            }
            
            const hasViewport = document.querySelector('meta[name="viewport"]');
            
            if (hasViewport) {
                updateResult(4, 'pass', `${deviceType} í™”ë©´ (${width}x${height})ì—ì„œ ë°˜ì‘í˜• ë©”íƒ€ íƒœê·¸ í™•ì¸ë¨`);
            } else {
                updateResult(4, 'fail', 'ë°˜ì‘í˜• ë””ìì¸ì„ ìœ„í•œ viewport ë©”íƒ€ íƒœê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        function openMainApp() {
            const popup = window.open('./index.html', '_blank', 'width=1200,height=800');
            if (popup) {
                updateResult(5, 'pass', 'ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìƒˆ íƒ­ì—ì„œ ì—´ë ¸ìŠµë‹ˆë‹¤. ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.');
                
                // 5ì´ˆ í›„ íŒì—… ìƒíƒœ í™•ì¸
                setTimeout(() => {
                    if (popup.closed) {
                        updateResult(5, 'fail', 'ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ë‹«í˜”ìŠµë‹ˆë‹¤.');
                    }
                }, 5000);
            } else {
                updateResult(5, 'fail', 'íŒì—…ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ì¼ë¶€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            console.log('í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì¤€ë¹„ ì™„ë£Œ');
        });
    </script>
</body>
</html>