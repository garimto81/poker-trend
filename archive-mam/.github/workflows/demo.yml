name: Deploy Demo

on:
  push:
    branches: [ master, main ]
  workflow_dispatch:

jobs:
  deploy-demo:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
    
    - name: Create demo page
      run: |
        mkdir -p demo
        cat > demo/index.html << 'EOF'
        <!DOCTYPE html>
        <html lang="ko">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Poker MAM - ì˜¨ë¼ì¸ ë°ëª¨</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
            <style>
                .hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
                .feature-card { transition: transform 0.3s; }
                .feature-card:hover { transform: translateY(-5px); }
            </style>
        </head>
        <body>
            <div class="hero text-white py-5">
                <div class="container text-center">
                    <h1 class="display-4">ğŸƒ Poker MAM</h1>
                    <p class="lead">AI ê¸°ë°˜ í¬ì»¤ ì˜ìƒ ë¶„ì„ ì‹œìŠ¤í…œ</p>
                    <div class="mt-4">
                        <a href="https://github.com/your-username/Archive-MAM" class="btn btn-light btn-lg me-2">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                        <a href="#demo" class="btn btn-warning btn-lg">
                            <i class="fas fa-play"></i> ë°ëª¨ ì‹œì‘
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="container my-5">
                <h2 class="text-center mb-5">âœ¨ ì£¼ìš” ê¸°ëŠ¥</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card feature-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-bolt fa-3x text-warning mb-3"></i>
                                <h4>ê³ ì† ë¶„ì„</h4>
                                <p>10ë¶„ ì˜ìƒì„ 1-2ë¶„ ë‚´ì— ë¶„ì„</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card feature-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-brain fa-3x text-primary mb-3"></i>
                                <h4>AI í•¸ë“œ ê°ì§€</h4>
                                <p>ìë™ìœ¼ë¡œ í•¸ë“œ ì‹œì‘/ì¢…ë£Œ ê°ì§€</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card feature-card h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-chart-bar fa-3x text-success mb-3"></i>
                                <h4>í†µê³„ ë¶„ì„</h4>
                                <p>í•¸ë“œ ê¸¸ì´ë³„ ë¶„ë¥˜ ë° ì‹œê°í™”</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container my-5" id="demo">
                <h2 class="text-center mb-5">ğŸ® ì˜¨ë¼ì¸ ë°ëª¨</h2>
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">í…ŒìŠ¤íŠ¸ ë°©ë²•</h5>
                                <ol>
                                    <li>GitHub Codespacesì—ì„œ ì‹¤í–‰</li>
                                    <li>ìƒ˜í”Œ ë¹„ë””ì˜¤ë¡œ í…ŒìŠ¤íŠ¸</li>
                                    <li>ê³ ì† ëª¨ë“œ ON/OFF ë¹„êµ</li>
                                </ol>
                                <div class="d-grid gap-2 mt-4">
                                    <a href="https://github.com/codespaces/new?template=your-username/Archive-MAM" 
                                       class="btn btn-primary btn-lg">
                                        <i class="fas fa-rocket"></i> Codespacesì—ì„œ ì‹¤í–‰
                                    </a>
                                    <a href="https://gitpod.io/#https://github.com/your-username/Archive-MAM" 
                                       class="btn btn-secondary btn-lg">
                                        <i class="fas fa-code"></i> Gitpodì—ì„œ ì‹¤í–‰
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="alert alert-info mt-4">
                            <h6>ğŸ’¡ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´</h6>
                            <pre class="mb-0"><code># í™˜ê²½ ì„¤ì •
python setup_test_env.py

# ì›¹ ì„œë²„ ì‹¤í–‰
python run_poker_app.py

# ì ‘ì†: http://localhost:5000</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container my-5">
                <h2 class="text-center mb-5">ğŸ“Š ì„±ëŠ¥ ë¹„êµ</h2>
                <canvas id="performanceChart" height="100"></canvas>
            </div>
            
            <script src="https://kit.fontawesome.com/your-key.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                // ì„±ëŠ¥ ì°¨íŠ¸
                const ctx = document.getElementById('performanceChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['ê¸°ì¡´ ë°©ì‹', 'ê³ ì† ëª¨ë“œ (15:1)', 'ê³ ì† ëª¨ë“œ (30:1)', 'ê³ ì† ëª¨ë“œ (60:1)'],
                        datasets: [{
                            label: 'ë¶„ì„ ì‹œê°„ (ë¶„)',
                            data: [600, 5, 3, 1.5],
                            backgroundColor: ['#dc3545', '#ffc107', '#28a745', '#007bff']
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'ì‹œê°„ (ë¶„)'
                                }
                            }
                        }
                    }
                });
            </script>
        </body>
        </html>
        EOF
    
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v4
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./demo