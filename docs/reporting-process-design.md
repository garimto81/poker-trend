# ğŸ—ï¸ í¬ì»¤ íŠ¸ë Œë“œ ë³´ê³  í”„ë¡œì„¸ìŠ¤ ì„¤ê³„

## ğŸ“ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë³´ê³  í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  [1ë‹¨ê³„: í‚¤ì›Œë“œ ìˆ˜ì§‘]                                                â”‚
â”‚  ë§¤ì¼ 02:00 KST                                                     â”‚
â”‚  â””â”€> ë™ì  í‚¤ì›Œë“œ ì—…ë°ì´íŠ¸                                           â”‚
â”‚      â””â”€> dynamic_keyword_collector.py                              â”‚
â”‚          â””â”€> data/dynamic_keywords.json ì €ì¥                       â”‚
â”‚                                                                     â”‚
â”‚  [2ë‹¨ê³„: ë¦¬í¬íŠ¸ íƒ€ì… ê²°ì •]                                           â”‚
â”‚  í‰ì¼ 10:00 KST                                                     â”‚
â”‚  â””â”€> unified-reporting.yml ì‹¤í–‰                                    â”‚
â”‚      â””â”€> ë‚ ì§œ í™•ì¸ ë¡œì§                                            â”‚
â”‚          â”œâ”€> ì²«ì§¸ì£¼ ì›”ìš”ì¼? â†’ ì›”ê°„ ë¦¬í¬íŠ¸                           â”‚
â”‚          â”œâ”€> ê¸°íƒ€ ì›”ìš”ì¼? â†’ ì£¼ê°„ ë¦¬í¬íŠ¸                             â”‚
â”‚          â””â”€> í™”~ê¸ˆìš”ì¼? â†’ ì¼ê°„ ë¦¬í¬íŠ¸                               â”‚
â”‚                                                                     â”‚
â”‚  [3ë‹¨ê³„: ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„]                                        â”‚
â”‚  â””â”€> í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰                                             â”‚
â”‚      â”œâ”€> YouTube API í˜¸ì¶œ                                          â”‚
â”‚      â”œâ”€> íŠ¸ë Œë“œ ë¶„ì„                                               â”‚
â”‚      â””â”€> AI ì¸ì‚¬ì´íŠ¸ ìƒì„±                                          â”‚
â”‚                                                                     â”‚
â”‚  [4ë‹¨ê³„: ë¦¬í¬íŠ¸ ì „ì†¡]                                               â”‚
â”‚  â””â”€> Slack Webhook ì „ì†¡                                            â”‚
â”‚      â””â”€> ë°ì´í„° ì•„ì¹´ì´ë¹™                                           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ë‹¨ê³„ë³„ ìƒì„¸ í”„ë¡œì„¸ìŠ¤

### 1ï¸âƒ£ í‚¤ì›Œë“œ ìˆ˜ì§‘ ë‹¨ê³„ (ë§¤ì¼ 02:00)

```python
# dynamic_keyword_collector.py ì£¼ìš” í”„ë¡œì„¸ìŠ¤

1. YouTube íŠ¸ë Œë”© ìˆ˜ì§‘
   â””â”€> ê²Œì„ ì¹´í…Œê³ ë¦¬ ì¸ê¸° ì˜ìƒ 50ê°œ
   â””â”€> í¬ì»¤ ê´€ë ¨ ì˜ìƒ í•„í„°ë§
   â””â”€> ì œëª©/íƒœê·¸ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ

2. ê´€ë ¨ ê²€ìƒ‰ì–´ ìˆ˜ì§‘
   â””â”€> ê¸°ë³¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰
   â””â”€> ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ë¹ˆì¶œ ë‹¨ì–´ ì¶”ì¶œ

3. ì¸ê¸° ì˜ìƒ íƒœê·¸ ë¶„ì„
   â””â”€> ìµœê·¼ 24ì‹œê°„ ì¸ê¸° ì˜ìƒ
   â””â”€> íƒœê·¸ ìˆ˜ì§‘ ë° ë¹ˆë„ ë¶„ì„

4. ëŒ“ê¸€ í‚¤ì›Œë“œ ì¶”ì¶œ
   â””â”€> ì¸ê¸° ì˜ìƒ ëŒ“ê¸€ ë¶„ì„
   â””â”€> ìì£¼ ì–¸ê¸‰ë˜ëŠ” ìš©ì–´ ìˆ˜ì§‘

5. í‚¤ì›Œë“œ ìˆœìœ„ ê²°ì •
   â””â”€> ë¹ˆë„ìˆ˜ ê¸°ë°˜ ê°€ì¤‘ì¹˜ ê³„ì‚°
   â””â”€> ìƒìœ„ 20ê°œ íŠ¸ë Œë”© í‚¤ì›Œë“œ ì„ ì •
   â””â”€> JSON íŒŒì¼ë¡œ ì €ì¥
```

### 2ï¸âƒ£ ë¦¬í¬íŠ¸ íƒ€ì… ê²°ì • (í‰ì¼ 10:00)

```yaml
# unified-reporting.yml ê²°ì • ë¡œì§

determine-report-type:
  steps:
    - name: ë‚ ì§œ í™•ì¸
      run: |
        # í•œêµ­ ì‹œê°„ ê¸°ì¤€ ë‚ ì§œ ê³„ì‚°
        DAY_OF_WEEK=$(TZ=Asia/Seoul date +%u)  # 1=ì›”ìš”ì¼
        DAY_OF_MONTH=$(TZ=Asia/Seoul date +%d)
        
        # ë¦¬í¬íŠ¸ íƒ€ì… ê²°ì • ì•Œê³ ë¦¬ì¦˜
        if [ ì›”ìš”ì¼ ] && [ ë‚ ì§œ <= 7 ]; then
          report_type="monthly"  # ì²«ì§¸ì£¼ ì›”ìš”ì¼
        elif [ ì›”ìš”ì¼ ]; then
          report_type="weekly"   # ë‚˜ë¨¸ì§€ ì›”ìš”ì¼
        else
          report_type="daily"    # í™”~ê¸ˆìš”ì¼
        fi
```

### 3ï¸âƒ£ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„

#### ì¼ê°„ ë¦¬í¬íŠ¸ (youtube_trend_webhook_enhanced.py)
```python
í”„ë¡œì„¸ìŠ¤:
1. í‚¤ì›Œë“œ ë¡œë“œ
   - ê¸°ë³¸ í‚¤ì›Œë“œ (5ê°œ) + ë™ì  í‚¤ì›Œë“œ (20ê°œ)
   
2. YouTube ë°ì´í„° ìˆ˜ì§‘ (48ì‹œê°„)
   - í‚¤ì›Œë“œë³„ ê²€ìƒ‰ (viewCount, relevance, date ì •ë ¬)
   - ì˜ìƒë‹¹ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘
   - ìµœëŒ€ 100ê°œ ì˜ìƒ ë¶„ì„
   
3. íŠ¸ë Œë“œ ë¶„ì„
   - íŠ¸ë Œë“œ ìŠ¤ì½”ì–´ ê³„ì‚°
   - ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜
   - ì‹œê°„ë‹¹ ì¡°íšŒìˆ˜ ê³„ì‚°
   - ì°¸ì—¬ìœ¨ ë¶„ì„
   
4. AI ì‡¼ì¸  ì œì•ˆ ìƒì„±
   - Gemini API í˜¸ì¶œ
   - íŠ¸ë Œë“œ ë°ì´í„° ê¸°ë°˜ 5ê°œ ì•„ì´ë””ì–´
```

#### ì£¼ê°„ ë¦¬í¬íŠ¸ (weekly_trend_report.py)
```python
í”„ë¡œì„¸ìŠ¤:
1. 7ì¼ê°„ ì¼ë³„ ë°ì´í„° ìˆ˜ì§‘
   - ê° ë‚ ì§œë³„ ì˜ìƒ ìˆ˜ì§‘
   - ì¼ë³„ íŠ¸ë Œë“œ ë³€í™” ì¶”ì 
   
2. ì£¼ê°„ í†µí•© ë¶„ì„
   - TOP í‚¤ì›Œë“œ ë³€í™”
   - ìƒˆë¡œìš´ íŠ¸ë Œë“œ ê°ì§€
   - ì¹´í…Œê³ ë¦¬ë³„ ì„±ê³¼
   - ìµœì  ì—…ë¡œë“œ ì‹œê°„
   
3. ì´ì „ ì£¼ ëŒ€ë¹„ ë¶„ì„
   - ì‹ ê·œ í‚¤ì›Œë“œ ë°œê²¬
   - ì„±ì¥/í•˜ë½ íŠ¸ë Œë“œ
```

#### ì›”ê°„ ë¦¬í¬íŠ¸ (monthly_trend_report.py)
```python
í”„ë¡œì„¸ìŠ¤:
1. 30ì¼ê°„ ì£¼ì°¨ë³„ ë°ì´í„° ìˆ˜ì§‘
   - 4ì£¼ê°„ ë°ì´í„° ë¶„í•  ìˆ˜ì§‘
   - ì£¼ì°¨ë³„ íŠ¸ë Œë“œ ë³€í™”
   
2. ì›”ê°„ ì¢…í•© ë¶„ì„
   - ë°”ì´ëŸ´ ì˜ìƒ ì„ ì • (ìƒìœ„ 1%)
   - ì±„ë„ ìˆœìœ„ ë¶„ì„
   - ì¹´í…Œê³ ë¦¬ë³„ ì‹¬ì¸µ ë¶„ì„
   
3. ì¥ê¸° íŠ¸ë Œë“œ ë„ì¶œ
   - ì›”ê°„ íŒ¨í„´ ë¶„ì„
   - ì„±ì¥ ë™ë ¥ íŒŒì•…
```

### 4ï¸âƒ£ ë¦¬í¬íŠ¸ ì „ì†¡ ë° ì €ì¥

```python
# Slack ë©”ì‹œì§€ êµ¬ì¡°

blocks = [
    # í—¤ë” (ë¦¬í¬íŠ¸ ì¢…ë¥˜ë³„ ë‹¤ë¦„)
    {
        "type": "header",
        "text": {"type": "plain_text", "text": "ë¦¬í¬íŠ¸ ì œëª©"}
    },
    
    # ìš”ì•½ ì„¹ì…˜
    {
        "type": "section",
        "text": {"type": "mrkdwn", "text": "í•µì‹¬ í†µê³„"}
    },
    
    # ë°ì´í„° ì‹œê°í™”
    {
        "type": "section",
        "fields": [...]  # ì¹´í…Œê³ ë¦¬, í‚¤ì›Œë“œ ë“±
    },
    
    # AI ì¸ì‚¬ì´íŠ¸
    {
        "type": "section",
        "text": {"type": "mrkdwn", "text": "AI ë¶„ì„ ê²°ê³¼"}
    }
]

# ë°ì´í„° ì €ì¥
reports/
â”œâ”€â”€ daily_report_20240115.json
â”œâ”€â”€ weekly_report_202403.json    # 2024ë…„ 3ì£¼ì°¨
â””â”€â”€ monthly_report_202401.json   # 2024ë…„ 1ì›”
```

## ğŸ¯ í•µì‹¬ ì„¤ê³„ ì›ì¹™

### 1. ëª¨ë“ˆí™”
- ê° ë¦¬í¬íŠ¸ íƒ€ì…ë³„ ë…ë¦½ ìŠ¤í¬ë¦½íŠ¸
- ê³µí†µ ê¸°ëŠ¥ì€ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±
- í‚¤ì›Œë“œ ìˆ˜ì§‘ê³¼ ë¦¬í¬íŒ… ë¶„ë¦¬

### 2. ìë™í™”
- GitHub Actions ìŠ¤ì¼€ì¤„ë§
- ë‚ ì§œ ê¸°ë°˜ ìë™ ë¦¬í¬íŠ¸ ì„ íƒ
- ì—ëŸ¬ ë°œìƒì‹œ ìë™ ì•Œë¦¼

### 3. í™•ì¥ì„±
- ìƒˆë¡œìš´ ë°ì´í„° ì†ŒìŠ¤ ì¶”ê°€ ìš©ì´
- ë¦¬í¬íŠ¸ í˜•ì‹ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
- ë‹¤êµ­ì–´ ì§€ì› ê°€ëŠ¥ êµ¬ì¡°

### 4. ì„±ëŠ¥ ìµœì í™”
- API í˜¸ì¶œ ìµœì†Œí™” (ë°°ì¹˜ ì²˜ë¦¬)
- ìºì‹± í™œìš©
- ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥ êµ¬ì¡°

## ğŸ“Š ë°ì´í„° í”Œë¡œìš°

```
YouTube API â†’ ì›ì‹œ ë°ì´í„° ìˆ˜ì§‘
    â†“
íŠ¸ë Œë“œ ë¶„ì„ ì—”ì§„ â†’ ë©”íŠ¸ë¦­ìŠ¤ ê³„ì‚°
    â†“
AI ì¸ì‚¬ì´íŠ¸ ìƒì„± â†’ Gemini API
    â†“
ë¦¬í¬íŠ¸ í¬ë§·íŒ… â†’ Slack ë¸”ë¡ êµ¬ì„±
    â†“
ì „ì†¡ ë° ì•„ì¹´ì´ë¹™ â†’ Slack + JSON ì €ì¥
```

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

```yaml
GitHub Secrets:
  YOUTUBE_API_KEY:     # ë°ì´í„° ìˆ˜ì§‘
  SLACK_WEBHOOK_URL:   # ë¦¬í¬íŠ¸ ì „ì†¡
  GEMINI_API_KEY:      # AI ë¶„ì„
  
ì‚¬ìš© ìœ„ì¹˜:
  - GitHub Actions ì›Œí¬í”Œë¡œìš°
  - Python ìŠ¤í¬ë¦½íŠ¸ (os.getenv)
```

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

1. **ì‹¤í–‰ ë¡œê·¸**
   - GitHub Actions ë¡œê·¸
   - Python logging ëª¨ë“ˆ
   - ì—ëŸ¬ ë°œìƒì‹œ Slack ì•Œë¦¼

2. **ì„±ê³¼ ì¶”ì **
   - ë¦¬í¬íŠ¸ ìƒì„± ì„±ê³µë¥ 
   - API ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
   - ì‘ë‹µ ì‹œê°„ ì¸¡ì •

3. **ë°ì´í„° í’ˆì§ˆ**
   - ìˆ˜ì§‘ ì˜ìƒ ìˆ˜ ê²€ì¦
   - í‚¤ì›Œë“œ ë‹¤ì–‘ì„± í™•ì¸
   - ì¤‘ë³µ ì œê±° ë¡œì§

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬

```python
# ë‹¨ê³„ë³„ ì—ëŸ¬ ì²˜ë¦¬
try:
    # API í˜¸ì¶œ
except HttpError:
    # API í• ë‹¹ëŸ‰ ì´ˆê³¼ ì²˜ë¦¬
except Exception:
    # ì¼ë°˜ ì—ëŸ¬ â†’ Slack ì•Œë¦¼
    
# ë¶€ë¶„ ì‹¤íŒ¨ í—ˆìš©
- ì¼ë¶€ í‚¤ì›Œë“œ ì‹¤íŒ¨ì‹œ ê³„ì† ì§„í–‰
- ìµœì†Œ ë°ì´í„°ë¡œë„ ë¦¬í¬íŠ¸ ìƒì„±
- ì‹¤íŒ¨ ë‚´ì—­ ë¡œê¹…
```

ì´ëŸ¬í•œ ì„¤ê³„ë¥¼ í†µí•´ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ í¬ì»¤ íŠ¸ë Œë“œ ë³´ê³  ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.